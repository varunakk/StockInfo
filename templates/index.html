<!DOCTYPE html>
<html>

<head>
 <title> Stock Finder </title>
    <link rel="stylesheet" href="../static/style.css">
    <script src='https://kit.fontawesome.com/a076d05399.js' ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.1/axios.min.js"></script>
    <script src=http://127.0.0.1:5100></script>
</head>
<body class="mainB"> <!--onload="myFunction()"-->
<h1 style="text-align: centre;" class="Heading" name="Hd">Stock Search</h1>

<div class="cont">
    <form onsubmit="return searchf()">
  <!--  <button class="btn" onclick="searchf()"> <img src="../static/search-solid.svg"></button> -->
  <button class="btn" type="submit"> <img src="../static/search-solid.svg"></button>
    <input type="text"  autocomplete="off" placeholder="Enter Stock Ticker Symbol" name="sbar" class="search-bar",id="searchbar" oninput="handler()" required> <!--required-->
    <div class="line"></div>
    <button  class="btn1" type="reset" onclick="clearscr()"> <img src="../static/times-solid.svg"></button>
   <!--  <input type="reset" value="Reset" class="btn1">
    <button  class="btn1" onclick="clearscr()" > <img src="../static/times-solid.svg"></button> 
  </form>  --> 
</form>
</div>
<div class="altr" id="altr" name="altr"></div>


<div class="Info" id ="infobtns" name ="iff" style="display: none;">
    <button onclick="info()" id="btn1"> company</button>
    <button> stocks </button>
</div>


<div>
<div class="infodisp" name="infodisp1" id="inf" style="display: none;">
   <h1 style='color:black'> INDD </h1>
</div>
</div>

<script>
    
const ip=document.getElementsByName('sbar');
//document.getElementById('infobtns').style.display="none";
//document.getElementById('inf').style.display="none";
function myFunction(){
document.getElementById('infobtns').style.display="none";
document.getElementById('inf').style.display="none";

}

function info(){
    console.log("info")
    document.getElementById('inf').innerHTML="<h1 style='color:black'>INFO SHOULD BE DISPLAYED HERE<h1>";
}


function clearscr(){
    // these lines are for clearing the search values and again placing the placeholder
    document.getElementsByName('sbar')[0].value='';
    document.getElementsByName('sbar')[0].placeholder='Enter Stock Ticker Symbol';
    
    console.log("s");
    document.getElementsByName('Hd');
    console.log(ip);

    // these lines are to clear the buttons and text/ under it 
    document.getElementById('infobtns').style.display="none";
    document.getElementById('inf').style.display="none";

    console.log(document.getElementsByName('sbar'));
}
function handler(){
    if (document.getElementsByName('sbar')[0].value){
        console.log(document.getElementsByName('sbar')[0].value,"SS");

    }
}
function searchf(){
    const p=document.getElementsByName('altr')[0]
    if (document.getElementsByName('sbar')[0].value){
        console.log("search",document.getElementsByName('sbar')[0].value);
        console.log(p)

        // these lines are for initial showing when searched 
        const el=document.getElementById('infobtns');
        el.style.display='flex';
        document.getElementById('inf').style.display='block';
        document.getElementById('inf').innerHTML="<h1 style='color:black'>INFO SHOULD BE DISPLAYED HERE<h1>";
        document.getElementById('btn1').focus();

        // axios
        axios.get("http://127.0.0.1:5100").then(function(response){
            console.log(response)
        })

        return false; // prevent from submission
    }
    else{
        p.innerHTML="<p> <div> </div> HI</p>";
        return false;
    }
}
</script>
</body>

</html>
